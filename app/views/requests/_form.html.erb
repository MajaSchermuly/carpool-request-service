<%= form_with(model: request) do |form| %>
  <% if request.errors.any? %>
    <div id="field">
      <h2><%= pluralize(request.errors.count, "error") %> prohibited this request from being saved:</h2>

      <ul>
        <% request.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name, 'Name:' %>
    <%= form.text_field :name, maxlength: 300 %>
  </div>
  
  <div class="field">
    <%= form.label :phone_number, 'Phone Number:' %>
    <%= form.text_field :phone_number, maxlength: 300 %>
  </div>

  <div class="field">
    <%= form.label :pick_up_loc, 'Pick Up Location:' %>
    <%= form.text_field :pick_up_loc, maxlength: 300 %>
  </div>
  
  <div class="field">
    <%= form.label :drop_off_loc, 'Drop Off Location:' %>
    <%= form.text_field :drop_off_loc, maxlength: 300 %>
  </div>

  <div class="field">
    <%= form.label :num_passengers, 'Number of Passengers:' %>
    <%= form.number_field :num_passengers, min: 1, max: 99, class: 'num_passengers' %>
  </div>

  <div class="field">
    <%= form.label :additional_info, 'Additional Info:' %>
    <%= form.text_field :additional_info, maxlength: 500 %>
  </div>

  <br>

  <div class="actions">
      <%= form.submit class: "green button" %>
  </div>
<% end %>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).on('input', '.num_passengers', function() {
  var value = $(this).val();
  if (value < 1) {
    $(this).val(1);
  }

  if (value > 99) {
    $(this).val(99);
  }
});
</script>

<style>

.field {
  width: 100%;
}

</style>